<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    >
    <title>Flyin Nyan</title>
    <meta name="application-name" content="Flyin Nyan">
    <meta name="theme-color" content="#0b0f19">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="assets/logo.png">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="assets/logo.png">

</head>
<body>
    <div id="loadingScreen">
        <img src="assets/logo.png" alt="Cyborg boot sequence" id="loadingImage">
        <p class="loading-credit">by @dasfruits</p>
        <div id="loadingStatus">
            <span class="loading-prefix">[SYS-BOOT:00]</span>
            <span class="loading-line">Initializing quantum cores — <span class="loading-percent">000%</span></span>
        </div>
    </div>
    <div id="backgroundContainer">
        <div class="backgroundLayer visible" id="backgroundLayerA"></div>
        <div class="backgroundLayer" id="backgroundLayerB"></div>
    </div>
    <button
        id="settingsButton"
        type="button"
        aria-haspopup="dialog"
        aria-controls="settingsDrawer"
        aria-expanded="false"
    >
        <span class="icon" aria-hidden="true">⚙</span>
        <span class="label">Settings</span>
    </button>
    <div id="controllerCursor" aria-hidden="true"></div>
    <div id="gameViewport">
        <div id="gameShell">
            <div id="playfield">
            <div id="playfieldStage">
                <canvas id="gameCanvas" tabindex="0" aria-label="Nyan Escape flight deck"></canvas>
                <div id="debugOverlay" aria-hidden="true" hidden>
                    <div data-debug-line="logical"></div>
                    <div data-debug-line="physical"></div>
                    <div data-debug-line="ratio"></div>
                </div>
                <div id="survivalTimer">Flight Time: <span class="value" id="timerValue">00:00.0</span></div>
            </div>
            <div
                id="preflightBar"
                class="preflight-modal"
                role="dialog"
                aria-modal="true"
                aria-labelledby="preflightPromptTitle"
                aria-describedby="preflightPromptDescription"
                aria-hidden="true"
                hidden
            >
                <div
                    id="preflightPrompt"
                    class="preflight-modal-content"
                    role="document"
                    aria-live="polite"
                    tabindex="-1"
                    hidden
                >
                    <header class="info-modal-header preflight-modal-header">
                        <h2 id="preflightPromptTitle">Nyan Ready</h2>
                    </header>
                    <div class="info-modal-body preflight-modal-body">
                        <p class="prompt-text desktop-only" id="preflightPromptDescription">
                            Press Start (Enter) to launch
                        </p>
                        <button id="mobilePreflightButton" type="button" hidden aria-hidden="true">Tap Start</button>
                        <div class="preflight-modal-actions">
                            <button
                                id="preflightSwapPilotButton"
                                type="button"
                                class="tertiary"
                                hidden
                                aria-hidden="true"
                                aria-disabled="true"
                            >
                                Swap Pilot
                            </button>
                            <button
                                id="preflightSwapWeaponButton"
                                type="button"
                                class="tertiary"
                                hidden
                                aria-hidden="true"
                                aria-disabled="true"
                            >
                                Swap Weapon
                            </button>
                        </div>
                        <div id="preflightLoadoutSummary" class="preflight-loadout-summary" aria-live="polite">
                            <div class="preflight-loadout-card" data-summary="pilot">
                                <div class="preflight-loadout-thumb">
                                    <img id="preflightPilotImage" alt="Active pilot portrait" loading="lazy" decoding="async" />
                                </div>
                                <div class="preflight-loadout-info">
                                    <span class="preflight-loadout-label">Pilot</span>
                                    <span class="preflight-loadout-value" id="preflightPilotName"></span>
                                    <span class="preflight-loadout-meta" id="preflightPilotRole"></span>
                                </div>
                            </div>
                            <div class="preflight-loadout-card" data-summary="weapon">
                                <div class="preflight-loadout-thumb">
                                    <img id="preflightWeaponImage" alt="Active weapon schematic" loading="lazy" decoding="async" />
                                </div>
                                <div class="preflight-loadout-info">
                                    <span class="preflight-loadout-label">Weapon</span>
                                    <span class="preflight-loadout-value" id="preflightWeaponName"></span>
                                    <span class="preflight-loadout-meta" id="preflightWeaponHighlight"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <aside
            id="stats"
            class="flight-status-panel telemetry-panel info-panel"
            role="complementary"
            aria-label="Current flight status"
            aria-live="polite"
        >
            <h2 class="card-title">Flight Status</h2>
            <div class="stat-list" role="presentation">
                <div class="stat-row">
                    <span class="stat-label">Score</span>
                    <span class="value" id="score">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Points</span>
                    <span class="value" id="nyan">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Streak</span>
                    <span class="value" id="streak">x1</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Best Tail</span>
                    <span class="value" id="bestStreak">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">MCAP</span>
                    <span class="value" id="mcap">6.6K</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">VOL</span>
                    <span class="value" id="vol">2.8K</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Boosts</span>
                    <span class="value" id="powerUps">None</span>
                </div>
            </div>
            <div
                id="comboMeter"
                role="progressbar"
                aria-label="Combo charge"
                aria-valuemin="0"
                aria-valuemax="100"
                aria-valuenow="0"
            >
                <div id="comboFill"></div>
            </div>
            <div class="flight-controls-toggle">
                <button
                    type="button"
                    id="controlsToggleButton"
                    class="controls-toggle"
                    aria-expanded="false"
                    aria-controls="flightControlsSection"
                >
                    Show Controls
                </button>
                <section
                    id="flightControlsSection"
                    class="flight-controls-section"
                    aria-labelledby="flightControlsTitle"
                    hidden
                >
                    <h3 class="flight-controls-title" id="flightControlsTitle">Flight Controls</h3>
                    <div class="flight-controls-content">
                        <div class="control-list" role="list">
                            <div class="control-row" role="listitem">
                                <div class="control-keys" aria-label="Movement keys">
                                    <span class="keycap" aria-hidden="true">←</span>
                                    <span class="keycap" aria-hidden="true">↑</span>
                                    <span class="keycap" aria-hidden="true">↓</span>
                                    <span class="keycap" aria-hidden="true">→</span>
                                </div>
                                <div class="control-action">Vector the catship through hazards.</div>
                            </div>
                            <div class="control-row" role="listitem">
                                <div class="control-keys" aria-label="Fire control">
                                    <span class="keycap wide" aria-hidden="true">Space</span>
                                </div>
                                <div class="control-action">Launch precision plasma bolts.</div>
                            </div>
                            <div class="control-row" role="listitem">
                                <div class="control-keys" aria-label="Pause control">
                                    <span class="keycap wide" aria-hidden="true">P</span>
                                </div>
                                <div class="control-action">Pause or resume the flight deck.</div>
                            </div>
                            <div class="control-row" role="listitem">
                                <div class="control-keys" aria-label="Settings shortcut">
                                    <span class="keycap wide" aria-hidden="true">Esc</span>
                                </div>
                                <div class="control-action">Open the quick settings panel mid-flight.</div>
                            </div>
                            <div class="control-row" role="listitem">
                                <div class="control-keys" aria-label="Touch controls">
                                    <span class="keycap wide" aria-hidden="true">Touch</span>
                                </div>
                                <div class="control-action">
                                    Rotate your phone to landscape, tilt to steer, and tap anywhere to fire. Tap ⚙ to tweak
                                    settings.
                                </div>
                            </div>
                            <div class="control-row" role="listitem">
                                <div class="control-keys" aria-label="PS5 DualSense controls">
                                    <span class="keycap wide" aria-hidden="true">DualSense</span>
                                </div>
                                <div class="control-action">
                                    <p class="control-action-title">PS5 controller mapping</p>
                                    <ul class="control-details" aria-label="DualSense button map">
                                        <li><span class="control-label">Left Stick / D-Pad</span> Steer the catship. Double-tap a direction to trigger a dash burst through hazards.</li>
                                        <li><span class="control-label">R2 / L2 / ✕ / □ / L1 / R1</span> Hold to keep the plasma cannons firing. Any of these triggers or face buttons will sustain fire.</li>
                                        <li><span class="control-label">Options</span> Pause or resume mid-flight. From pre-flight or after a crash, Options also activates the highlighted launch, retry, or submit action.</li>
                                        <li><span class="control-label">✕ (Cross)</span> Confirm prompts and advance menus, mirroring the main launch button.</li>
                                    </ul>
                                    <p class="control-tip">When pause or results overlays are open, focus snaps to the primary action. Use ✕ to confirm, or press Options again to return to the cockpit without selecting anything.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </aside>
    </div>
    <div id="instructions" aria-label="Mission information and loadout management">
        <div
            id="instructionButtonBar"
            class="instruction-button-bar"
            role="toolbar"
            aria-label="Mission information panels"
        >
            <button type="button" class="instruction-button" data-panel-target="missionCard">Mission</button>
            <button type="button" class="instruction-button" data-panel-target="loadoutCard">Loadout</button>
        </div>
        <div id="instructionPanels" hidden aria-hidden="true">
            <section class="hud-card info-panel" id="missionCard" aria-labelledby="missionCardTitle">
                <h2 class="card-title" id="missionCardTitle">Mission Brief</h2>
                <div class="card-body">
                    <ul class="mission-list">
                        <li>Collect Points to fuel the escape and grow your score.</li>
                        <li>Slip between asteroids and hostile fire to stay in the fight.</li>
                        <li>Secure booster cores for temporary firepower and agility.</li>
                        <li>Snag the Radiant Shield to ricochet villains and asteroids away.</li>
                        <li>Channel Hyper Beam cores to carve safe corridors when the lane is crowded.</li>
                        <li>Keep the combo meter charged to amplify every point.</li>
                    </ul>
                </div>
            </section>
            <section class="hud-card info-panel" id="intelCard" aria-labelledby="intelCardTitle">
                <h2 class="card-title" id="intelCardTitle">Tactical Intel</h2>
                <div class="card-body">
                    <div class="challenge-section" aria-live="polite">
                        <h3>Active Challenges</h3>
                        <ul class="challenge-list" id="challengeList" role="list"></ul>
                    </div>
                    <div class="cosmetic-section" aria-live="polite">
                        <h3>Cosmetic Loadout</h3>
                        <div class="cosmetic-group" role="group" aria-label="Ship skins">
                            <span class="cosmetic-group-label">Ship</span>
                            <div class="cosmetic-options" id="skinOptions"></div>
                        </div>
                        <div class="cosmetic-group" role="group" aria-label="Trail styles">
                            <span class="cosmetic-group-label">Trail</span>
                            <div class="cosmetic-options" id="trailOptions"></div>
                        </div>
                        <div class="cosmetic-group" role="group" aria-label="Weapon systems">
                            <span class="cosmetic-group-label">Weapon</span>
                            <div class="cosmetic-options weapon-options" id="weaponOptions">
                                <div class="weapon-summary-card" aria-live="polite">
                                    <img id="weaponSummaryImage" alt="" />
                                    <div class="weapon-summary-copy">
                                        <span id="weaponSummaryName" class="weapon-summary-name"></span>
                                        <p id="weaponSummaryDescription" class="weapon-summary-description"></p>
                                    </div>
                                </div>
                                <button
                                    id="openWeaponSelectButton"
                                    type="button"
                                    class="cosmetic-option weapon-change-button"
                                >
                                    Change Weapon
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="meta-progress-grid">
                        <section class="meta-card">
                            <h3>Reward Catalogue</h3>
                            <ul id="rewardCatalogueList" class="reward-catalogue" role="list" aria-live="polite"></ul>
                        </section>
                        <section class="meta-card progression-card" id="progressionCard" aria-live="polite" hidden>
                            <h3>Flight Mastery</h3>
                            <p class="meta-card-summary">
                                Level <span id="progressionLevel">1</span>
                                <span class="progression-points" id="progressionPoints">All systems tuned</span>
                            </p>
                            <div
                                class="progression-track"
                                id="progressionXpTrack"
                                role="progressbar"
                                aria-valuemin="0"
                                aria-valuemax="100"
                                aria-valuenow="0"
                            >
                                <div class="progression-track-fill" id="progressionXpFill"></div>
                            </div>
                            <p class="progression-xp" id="progressionXpLabel">0 / 0 XP</p>
                            <ul class="stat-list" role="list">
                                <li class="stat-row">
                                    <div class="stat-copy">
                                        <span class="stat-name">Agility</span>
                                        <span class="stat-effect" id="statAgilityEffect">
                                            Sharper thrusters and smoother rolls.
                                        </span>
                                    </div>
                                    <div class="stat-controls">
                                        <span class="stat-value" id="statAgilityValue">0</span>
                                        <button
                                            type="button"
                                            class="stat-allocate"
                                            data-stat-allocate="agility"
                                            aria-label="Spend a point on Agility"
                                            disabled
                                        >
                                            +
                                        </button>
                                    </div>
                                </li>
                                <li class="stat-row">
                                    <div class="stat-copy">
                                        <span class="stat-name">Strength</span>
                                        <span class="stat-effect" id="statStrengthEffect">
                                            Amplifies weapon output and recharge cadence.
                                        </span>
                                    </div>
                                    <div class="stat-controls">
                                        <span class="stat-value" id="statStrengthValue">0</span>
                                        <button
                                            type="button"
                                            class="stat-allocate"
                                            data-stat-allocate="strength"
                                            aria-label="Spend a point on Strength"
                                            disabled
                                        >
                                            +
                                        </button>
                                    </div>
                                </li>
                                <li class="stat-row">
                                    <div class="stat-copy">
                                        <span class="stat-name">Luck</span>
                                        <span class="stat-effect" id="statLuckEffect">
                                            Ups the odds of lucrative power-up drops.
                                        </span>
                                    </div>
                                    <div class="stat-controls">
                                        <span class="stat-value" id="statLuckValue">0</span>
                                        <button
                                            type="button"
                                            class="stat-allocate"
                                            data-stat-allocate="luck"
                                            aria-label="Spend a point on Luck"
                                            disabled
                                        >
                                            +
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </section>
                        <section
                            id="seasonPassPanel"
                            class="meta-card season-pass-card"
                            aria-live="polite"
                            hidden
                        >
                            <h3>Season Pass</h3>
                            <p id="seasonPassSummary" class="meta-card-summary"></p>
                            <div
                                class="season-pass-progress"
                                role="progressbar"
                                aria-valuemin="0"
                                aria-valuemax="100"
                            >
                                <div id="seasonPassProgressFill"></div>
                            </div>
                            <ol id="seasonPassTierList" class="season-pass-tier-list" role="list"></ol>
                        </section>
                        <section class="meta-card community-card">
                            <h3>Community Goals</h3>
                            <ul id="communityGoalList" class="community-goal-list" role="list" aria-live="polite"></ul>
                        </section>
                        <section class="meta-card achievement-card">
                            <h3>Achievement Badges</h3>
                            <ul id="achievementBadgeList" class="achievement-badge-list" role="list" aria-live="polite"></ul>
                        </section>
                    </div>
                    <ul class="intel-log" id="intelLog" role="list" aria-live="polite"></ul>
                </div>
            </section>
            <section class="hud-card info-panel" id="loadoutCard" aria-labelledby="loadoutCardTitle">
                <h2 class="card-title" id="loadoutCardTitle">Custom Loadouts</h2>
                <div class="card-body">
                    <p class="custom-loadout-description">
                        Capture two personalized presets. Pick your pilot, suit, stream, and weapon, then save the configuration for fast launches.
                    </p>
                    <div class="custom-loadout-section" id="customLoadoutSection" aria-live="polite">
                        <div class="custom-loadout-grid" data-loadout-grid role="list"></div>
                    </div>
                </div>
            </section>
        </div>
        <div
            id="infoModal"
            class="modal-shell info-modal"
            role="dialog"
            aria-modal="true"
            aria-labelledby="infoModalTitle"
            aria-hidden="true"
            hidden
            tabindex="-1"
        >
            <div class="modal-backdrop info-modal-backdrop" data-modal-dismiss="backdrop" aria-hidden="true"></div>
            <div class="modal-content info-modal-content" role="document">
                <div class="info-modal-header">
                    <h2 id="infoModalTitle"></h2>
                    <button type="button" id="infoModalClose" class="info-modal-close" aria-label="Close panel">
                        ✕
                    </button>
                </div>
                <div id="infoModalBody" class="info-modal-body"></div>
            </div>
        </div>
    </div>
    <div id="touchControls" aria-hidden="true">
        <div id="joystickZone">
            <div class="joystick-ring"></div>
            <div class="joystick-thumb"></div>
        </div>
        <button id="fireButton" type="button" aria-label="Fire cosmic arrows">Fire</button>
    </div>
    <div id="overlay">
        <div class="overlay-content player-hub">
            <header class="player-hub-header">
                <div class="player-hub-header-main">
                    <h1 class="overlay-logo">
                        <img src="assets/logo.png" alt="Astro Cats 3 logo">
                        <span class="player-hub-title">Player's Hub</span>
                    </h1>
                    <p id="overlayMessage" class="player-hub-message">
                        Welcome to the Player's Hub. Tune your pilot profile and squad before launch.
                    </p>
                    <p class="player-hub-subhead">
                        Link your account, refine your callsign, and review custom loadouts or mission intel before entering the lane.
                    </p>
                </div>
                <div class="player-hub-header-aside" aria-label="Launch prep status">
                    <div class="player-hub-badge" data-tone="online">Docked &amp; Stable</div>
                    <ol class="player-hub-flow" role="list">
                        <li class="player-hub-flow-step" data-step="1">Connect</li>
                        <li class="player-hub-flow-step" data-step="2">Customize</li>
                        <li class="player-hub-flow-step" data-step="3">Launch</li>
                    </ol>
                </div>
            </header>
            <div class="player-hub-layout">
                <div class="player-hub-navigation" role="tablist" aria-label="Player hub sections">
                    <button
                        type="button"
                        class="player-hub-tab active"
                        id="playerHubTab-account"
                        data-player-hub-tab="account"
                        role="tab"
                        aria-selected="true"
                        tabindex="0"
                        aria-controls="playerHubPanel-account"
                    >
                        Account
                    </button>
                    <button
                        type="button"
                        class="player-hub-tab"
                        id="playerHubTab-loadout"
                        data-player-hub-tab="loadout"
                        role="tab"
                        aria-selected="false"
                        tabindex="-1"
                        aria-controls="playerHubPanel-loadout"
                    >
                        Loadout
                    </button>
                    <button
                        type="button"
                        class="player-hub-tab"
                        id="playerHubTab-progression"
                        data-player-hub-tab="progression"
                        role="tab"
                        aria-selected="false"
                        tabindex="-1"
                        aria-controls="playerHubPanel-progression"
                    >
                        Progression
                    </button>
                    <button
                        type="button"
                        class="player-hub-tab"
                        id="playerHubTab-presets"
                        data-player-hub-tab="presets"
                        role="tab"
                        aria-selected="false"
                        tabindex="-1"
                        aria-controls="playerHubPanel-presets"
                    >
                        Presets
                    </button>
                    <button
                        type="button"
                        class="player-hub-tab"
                        id="playerHubTab-debrief"
                        data-player-hub-tab="debrief"
                        role="tab"
                        aria-selected="false"
                        tabindex="-1"
                        aria-controls="playerHubPanel-debrief"
                    >
                        Debrief
                    </button>
                </div>
                <div class="player-hub-panels">
                    <section
                        class="player-hub-card player-hub-account player-hub-panel"
                        id="playerHubPanel-account"
                        data-player-hub-panel="account"
                        role="tabpanel"
                        aria-labelledby="playerHubTab-account"
                    >
                        <div class="player-hub-card-header">
                            <h2 id="playerHubAccountTitle">Account Access</h2>
                            <p>Securely connect to sync unlocks, saved presets, and squad progress.</p>
                            <button
                                type="button"
                                class="player-hub-expand"
                                data-player-hub-modal-open="account"
                                aria-haspopup="dialog"
                                aria-controls="playerHubModal-account"
                            >
                                View account modal
                            </button>
                        </div>
                        <div class="player-hub-panel-summary">
                            <p id="playerHubAccountSummaryMessage">Link an account to sync your progress.</p>
                            <p id="playerHubAccountSummaryHandle" class="player-hub-summary-secondary">Handle: —</p>
                        </div>
                        <div class="player-hub-auth-toggle" role="group" aria-label="Account access mode">
                            <button type="button" class="player-hub-auth-button active" data-auth-mode="signin" aria-pressed="true">Sign In</button>
                            <button type="button" class="player-hub-auth-button" data-auth-mode="create" aria-pressed="false">Create Account</button>
                        </div>
                        <form id="playerHubAuthForm" class="player-hub-auth-form" autocomplete="off" novalidate data-auth-mode="signin">
                            <div class="input-row">
                                <label for="playerHubEmail">Signal Address</label>
                                <input id="playerHubEmail" name="email" type="email" autocomplete="off" placeholder="pilot@fleet.command">
                            </div>
                            <div class="input-row">
                                <label for="playerHubPassword">Access Code</label>
                                <input id="playerHubPassword" name="password" type="password" autocomplete="off" placeholder="••••••••">
                            </div>
                            <div class="input-row player-hub-create-field" data-auth-create-field>
                                <label for="playerHubHandle">Pilot Handle</label>
                                <input id="playerHubHandle" name="handle" type="text" maxlength="24" autocomplete="off" placeholder="Star Seeker">
                            </div>
                            <button type="submit" class="player-hub-primary-action">Sign In</button>
                        </form>
                        <p id="playerHubAuthStatus" class="player-hub-status" role="status" aria-live="polite" hidden></p>
                    </section>
                    <section
                        class="player-hub-card player-hub-character player-hub-panel"
                        id="playerHubPanel-loadout"
                        data-player-hub-panel="loadout"
                        role="tabpanel"
                        aria-labelledby="playerHubTab-loadout"
                        hidden
                        aria-hidden="true"
                    >
                        <div class="player-hub-card-header">
                            <h2 id="playerHubCharacterTitle">Callsign & Crew</h2>
                            <p>Name your pilot and prime the active loadout before departure.</p>
                            <button
                                type="button"
                                class="player-hub-expand"
                                data-player-hub-modal-open="loadout"
                                aria-haspopup="dialog"
                                aria-controls="playerHubModal-loadout"
                            >
                                View loadout modal
                            </button>
                        </div>
                        <form id="callsignForm" class="player-hub-callsign" autocomplete="off" novalidate>
                            <label for="playerNameInput">Pilot Callsign</label>
                            <div class="input-row">
                                <input id="playerNameInput" name="playerName" type="text" maxlength="24" autocomplete="off" spellcheck="false" placeholder="Ace Pilot" aria-describedby="callsignHint">
                            </div>
                            <p id="callsignHint">Confirm your callsign, then press Enter to launch.</p>
                        </form>
                        <div
                            id="playerHubLoadoutSummary"
                            class="player-hub-loadout-summary"
                            aria-live="polite"
                            hidden
                            aria-hidden="true"
                        >
                            <div class="player-hub-loadout-card" data-summary="pilot">
                                <div class="player-hub-loadout-thumb">
                                    <img id="playerHubPilotImage" alt="Active pilot portrait" loading="lazy" decoding="async">
                                </div>
                                <div class="player-hub-loadout-info">
                                    <span class="player-hub-loadout-label">Pilot</span>
                                    <span class="player-hub-loadout-value" id="playerHubPilotName"></span>
                                    <span class="player-hub-loadout-meta" id="playerHubPilotRole"></span>
                                </div>
                            </div>
                            <div class="player-hub-loadout-card" data-summary="weapon">
                                <div class="player-hub-loadout-thumb">
                                    <img id="playerHubWeaponImage" alt="Active weapon schematic" loading="lazy" decoding="async">
                                </div>
                                <div class="player-hub-loadout-info">
                                    <span class="player-hub-loadout-label">Weapon</span>
                                    <span class="player-hub-loadout-value" id="playerHubWeaponName"></span>
                                    <span class="player-hub-loadout-meta" id="playerHubWeaponHighlight"></span>
                                </div>
                            </div>
                        </div>
                        <div id="overlayActions" class="player-hub-launch">
                            <div class="player-hub-launch-primary">
                                <p class="player-hub-launch-note">Ready up once your callsign locks in and systems show green.</p>
                                <div class="player-hub-launch-buttons">
                                    <button id="overlayButton" type="button" disabled aria-disabled="true">Enter Hangar</button>
                                    <button id="overlaySecondaryButton" type="button" class="secondary" hidden aria-disabled="true">Skip Submission</button>
                                    <button
                                        id="flyNowButton"
                                        type="button"
                                        data-launch-action="fly"
                                        hidden
                                        aria-hidden="true"
                                        aria-disabled="true"
                                    >
                                        Launch Now
                                    </button>
                                </div>
                            </div>
                            <div class="player-hub-quick-actions">
                                <button id="swapPilotButton" type="button" class="tertiary">Swap Pilot</button>
                                <button id="swapWeaponButton" type="button" class="tertiary">Swap Weapon</button>
                            </div>
                        </div>
                    </section>
                    <section
                        class="player-hub-card player-hub-stats player-hub-panel"
                        id="playerHubPanel-progression"
                        data-player-hub-panel="progression"
                        role="tabpanel"
                        aria-labelledby="playerHubTab-progression"
                        hidden
                        aria-hidden="true"
                    >
                        <div class="player-hub-card-header">
                            <h2 id="playerHubStatsTitle">Progression</h2>
                            <p>Review your mastery level and allocate upgrade points.</p>
                            <button
                                type="button"
                                class="player-hub-expand"
                                data-player-hub-modal-open="progression"
                                aria-haspopup="dialog"
                                aria-controls="playerHubModal-progression"
                            >
                                View progression modal
                            </button>
                        </div>
                        <div class="player-hub-level" aria-live="polite">
                            <span class="player-hub-level-label">Level</span>
                            <span class="player-hub-level-value" id="playerHubLevel">1</span>
                            <span class="player-hub-level-points" id="playerHubLevelPoints">All systems tuned</span>
                        </div>
                        <div class="player-hub-xp-track" id="playerHubXpTrack" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                            <div class="player-hub-xp-fill" id="playerHubXpFill"></div>
                        </div>
                        <p class="player-hub-xp-label" id="playerHubXpLabel">0 / 0 XP</p>
                        <ul class="player-hub-stat-list" role="list">
                            <li class="player-hub-stat-row" role="listitem">
                                <div class="player-hub-stat-copy">
                                    <span class="stat-name">Agility</span>
                                    <span class="stat-effect" id="playerHubStatAgilityEffect">Sharper thrusters and smoother rolls.</span>
                                </div>
                                <div class="player-hub-stat-controls">
                                    <span class="stat-value" id="playerHubStatAgilityValue">0</span>
                                    <button type="button" class="stat-allocate" data-stat-allocate="agility" aria-label="Spend a point on Agility">+</button>
                                </div>
                            </li>
                            <li class="player-hub-stat-row" role="listitem">
                                <div class="player-hub-stat-copy">
                                    <span class="stat-name">Strength</span>
                                    <span class="stat-effect" id="playerHubStatStrengthEffect">Amplifies weapon output and recharge cadence.</span>
                                </div>
                                <div class="player-hub-stat-controls">
                                    <span class="stat-value" id="playerHubStatStrengthValue">0</span>
                                    <button type="button" class="stat-allocate" data-stat-allocate="strength" aria-label="Spend a point on Strength">+</button>
                                </div>
                            </li>
                            <li class="player-hub-stat-row" role="listitem">
                                <div class="player-hub-stat-copy">
                                    <span class="stat-name">Luck</span>
                                    <span class="stat-effect" id="playerHubStatLuckEffect">Ups the odds of lucrative power-up drops.</span>
                                </div>
                                <div class="player-hub-stat-controls">
                                    <span class="stat-value" id="playerHubStatLuckValue">0</span>
                                    <button type="button" class="stat-allocate" data-stat-allocate="luck" aria-label="Spend a point on Luck">+</button>
                                </div>
                            </li>
                        </ul>
                    </section>
                    <section
                        id="pilotPreview"
                        class="player-hub-card player-hub-loadouts player-hub-panel"
                        data-player-hub-panel="presets"
                        role="tabpanel"
                        aria-live="polite"
                        aria-labelledby="playerHubTab-presets"
                        hidden
                        aria-hidden="true"
                    >
                        <div class="player-hub-card-header">
                            <h2>Custom Loadouts</h2>
                            <p id="pilotPreviewDescription">Equip one of your saved presets instantly before launch. Manage the presets in the Custom Loadouts panel below.</p>
                            <button
                                type="button"
                                class="player-hub-expand"
                                data-player-hub-modal-open="presets"
                                aria-haspopup="dialog"
                                aria-controls="playerHubModal-presets"
                            >
                                View presets modal
                            </button>
                        </div>
                        <div id="pilotPreviewGrid" class="pilot-preview-grid" role="list"></div>
                    </section>
                    <section
                        class="player-hub-card player-hub-debrief player-hub-panel"
                        id="playerHubPanel-debrief"
                        data-player-hub-panel="debrief"
                        role="tabpanel"
                        aria-labelledby="playerHubTab-debrief"
                        hidden
                        aria-hidden="true"
                    >
                        <div class="player-hub-card-header">
                            <h2 id="playerHubDebriefTitle" class="player-hub-debrief-title">Flight Debrief</h2>
                            <p>Track recent runs, leaderboard standings, and broadcast options.</p>
                            <button
                                type="button"
                                class="player-hub-expand"
                                data-player-hub-modal-open="debrief"
                                aria-haspopup="dialog"
                                aria-controls="playerHubModal-debrief"
                            >
                                View debrief modal
                            </button>
                        </div>
                <article id="summaryCard" class="summary-card" aria-label="Flight summary">
                                    <header class="summary-card-header">
                                        <h2 class="summary-card-title">Flight Debrief</h2>
                                        <div class="summary-tabs" role="tablist" aria-label="Debrief categories">
                                            <button
                                                type="button"
                                                class="summary-tab active"
                                                id="summaryTab-run"
                                                data-summary-tab="run"
                                                aria-selected="true"
                                                aria-controls="summarySectionRun"
                                                role="tab"
                                            >
                                                Your run
                                            </button>
                                            <button
                                                type="button"
                                                class="summary-tab"
                                                id="summaryTab-rank"
                                                data-summary-tab="rank"
                                                aria-selected="false"
                                                aria-controls="summarySectionRank"
                                                role="tab"
                                                tabindex="-1"
                                            >
                                                Global rank
                                            </button>
                                            <button
                                                type="button"
                                                class="summary-tab"
                                                id="summaryTab-share"
                                                data-summary-tab="share"
                                                aria-selected="false"
                                                aria-controls="summarySectionShare"
                                                role="tab"
                                                tabindex="-1"
                                            >
                                                Share
                                            </button>
                                        </div>
                                    </header>
                                    <div class="summary-body">
                                        <section
                                            id="summarySectionRun"
                                            class="summary-section active"
                                            data-summary-section="run"
                                            role="tabpanel"
                                            aria-labelledby="summaryTab-run"
                                        >
                                            <header class="summary-section-header">
                                                <h3>Your run</h3>
                                                <p id="runSummaryStatus" class="summary-status" role="status" aria-live="polite"></p>
                                            </header>
                                            <div class="run-summary-grid" role="list">
                                                <div class="run-summary-metric" role="listitem">
                                                    <span class="label">Flight time</span>
                                                    <span class="value" id="runSummaryTime">&mdash;</span>
                                                </div>
                                                <div class="run-summary-metric" role="listitem">
                                                    <span class="label">Score</span>
                                                    <span class="value" id="runSummaryScore">&mdash;</span>
                                                </div>
                                                <div class="run-summary-metric" role="listitem">
                                                    <span class="label">Best tail</span>
                                                    <span class="value" id="runSummaryStreak">&mdash;</span>
                                                </div>
                                                <div class="run-summary-metric" role="listitem">
                                                    <span class="label">Pickups</span>
                                                    <span class="value" id="runSummaryNyan">&mdash;</span>
                                                </div>
                                            </div>
                                            <div class="run-summary-meta">
                                                <span id="runSummaryPlacement" class="meta-item"></span>
                                                <span id="runSummaryRuns" class="meta-item"></span>
                                            </div>
                                            <div id="runSummaryXpPanel" class="summary-subpanel xp-panel" hidden>
                                                <div class="summary-subtitle">Flight XP</div>
                                                <dl class="xp-breakdown">
                                                    <div class="xp-row xp-total">
                                                        <dt>Total gained</dt>
                                                        <dd id="runSummaryXpTotal">0 XP</dd>
                                                    </div>
                                                    <div class="xp-row">
                                                        <dt>From score</dt>
                                                        <dd id="runSummaryXpScore">0 XP</dd>
                                                    </div>
                                                    <div class="xp-row">
                                                        <dt>From survival</dt>
                                                        <dd id="runSummaryXpTime">0 XP</dd>
                                                    </div>
                                                    <div class="xp-row">
                                                        <dt>From streaks</dt>
                                                        <dd id="runSummaryXpStreak">0 XP</dd>
                                                    </div>
                                                    <div class="xp-row">
                                                        <dt>From power-ups</dt>
                                                        <dd id="runSummaryXpPowerUp">0 XP</dd>
                                                    </div>
                                                </dl>
                                                <p id="runSummaryXpNote" class="xp-note"></p>
                                            </div>
                                            <div id="highScorePanel" class="summary-subpanel" aria-live="polite">
                                                <div id="highScoreTitle" class="summary-subtitle">Top Flight Times</div>
                                                <ol id="highScoreList"></ol>
                                            </div>
                                        </section>
                                        <section
                                            id="summarySectionRank"
                                            class="summary-section"
                                            data-summary-section="rank"
                                            role="tabpanel"
                                            aria-labelledby="summaryTab-rank"
                                            hidden
                                        >
                                            <div id="leaderboardPanel" class="summary-subpanel">
                                                <div class="panel-header">
                                                    <div class="panel-title" id="leaderboardTitle">Galaxy Standings</div>
                                                    <div class="panel-tabs" role="tablist" aria-label="Leaderboard scope">
                                                        <button
                                                            type="button"
                                                            class="leaderboard-tab active"
                                                            data-leaderboard-scope="global"
                                                            aria-pressed="true"
                                                        >
                                                            Global
                                                        </button>
                                                        <button
                                                            type="button"
                                                            class="leaderboard-tab"
                                                            data-leaderboard-scope="weekly"
                                                            aria-pressed="false"
                                                        >
                                                            Weekly
                                                        </button>
                                                    </div>
                                                </div>
                                                <p
                                                    id="leaderboardStatus"
                                                    class="panel-status"
                                                    role="status"
                                                    aria-live="polite"
                                                    hidden
                                                ></p>
                                                <ol id="leaderboardList"></ol>
                                            </div>
                                        </section>
                                        <section
                                            id="summarySectionShare"
                                            class="summary-section"
                                            data-summary-section="share"
                                            role="tabpanel"
                                            aria-labelledby="summaryTab-share"
                                            hidden
                                        >
                                            <div id="sharePanel" class="summary-subpanel">
                                                <div class="panel-title">Broadcast Run</div>
                                                <div class="share-buttons">
                                                    <button id="shareButton" class="share-button" type="button">Share Flight Log</button>
                                                </div>
                                                <p id="shareStatus" role="status" aria-live="polite"></p>
                                            </div>
                                        </section>
                                    </div>
                                </article>
                </section>
            </div>
        </div>
    </div>
    <div
        id="playerHubModal-account"
        class="modal-shell player-hub-modal"
        data-player-hub-modal="account"
        hidden
        aria-hidden="true"
    >
        <div
            class="modal-backdrop player-hub-modal-backdrop"
            data-player-hub-modal-dismiss="account"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content player-hub-modal-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="playerHubModalAccountTitle"
        >
            <header class="player-hub-modal-header">
                <h2 id="playerHubModalAccountTitle">Account Status</h2>
                <button
                    type="button"
                    class="player-hub-modal-close"
                    data-player-hub-modal-dismiss="account"
                    aria-label="Close account modal"
                >
                    ✕
                </button>
            </header>
            <div class="player-hub-modal-body">
                <p id="playerHubModalAccountStatus" class="player-hub-modal-status" aria-live="polite">
                    Link an account to sync your progress.
                </p>
                <dl class="player-hub-modal-list">
                    <div class="player-hub-modal-row">
                        <dt>Handle</dt>
                        <dd id="playerHubModalAccountHandle">—</dd>
                    </div>
                    <div class="player-hub-modal-row">
                        <dt>Signal address</dt>
                        <dd id="playerHubModalAccountEmail">—</dd>
                    </div>
                </dl>
                <p class="player-hub-modal-footnote">
                    Use the Account tab to sign in or create a new callsign before heading to the hangar.
                </p>
            </div>
        </div>
    </div>
    <div
        id="playerHubModal-loadout"
        class="modal-shell player-hub-modal"
        data-player-hub-modal="loadout"
        hidden
        aria-hidden="true"
    >
        <div
            class="modal-backdrop player-hub-modal-backdrop"
            data-player-hub-modal-dismiss="loadout"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content player-hub-modal-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="playerHubModalLoadoutTitle"
        >
            <header class="player-hub-modal-header">
                <h2 id="playerHubModalLoadoutTitle">Active Loadout</h2>
                <button
                    type="button"
                    class="player-hub-modal-close"
                    data-player-hub-modal-dismiss="loadout"
                    aria-label="Close loadout modal"
                >
                    ✕
                </button>
            </header>
            <div class="player-hub-modal-body">
                <div class="player-hub-modal-summary-grid">
                    <div class="player-hub-modal-summary-card">
                        <span class="player-hub-modal-summary-label">Pilot</span>
                        <span class="player-hub-modal-summary-value" id="playerHubModalPilotName">—</span>
                        <span class="player-hub-modal-summary-meta" id="playerHubModalPilotRole"></span>
                    </div>
                    <div class="player-hub-modal-summary-card">
                        <span class="player-hub-modal-summary-label">Weapon</span>
                        <span class="player-hub-modal-summary-value" id="playerHubModalWeaponName">—</span>
                        <span class="player-hub-modal-summary-meta" id="playerHubModalWeaponHighlight"></span>
                    </div>
                </div>
                <p class="player-hub-modal-footnote">
                    Adjust your callsign or swap pilots and weapons from the Loadout tab.
                </p>
            </div>
        </div>
    </div>
    <div
        id="playerHubModal-progression"
        class="modal-shell player-hub-modal"
        data-player-hub-modal="progression"
        hidden
        aria-hidden="true"
    >
        <div
            class="modal-backdrop player-hub-modal-backdrop"
            data-player-hub-modal-dismiss="progression"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content player-hub-modal-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="playerHubModalProgressionTitle"
        >
            <header class="player-hub-modal-header">
                <h2 id="playerHubModalProgressionTitle">Progress Overview</h2>
                <button
                    type="button"
                    class="player-hub-modal-close"
                    data-player-hub-modal-dismiss="progression"
                    aria-label="Close progression modal"
                >
                    ✕
                </button>
            </header>
            <div class="player-hub-modal-body">
                <div class="player-hub-modal-level" aria-live="polite">
                    <span class="player-hub-modal-level-label">Level</span>
                    <span class="player-hub-modal-level-value" id="playerHubModalLevel">1</span>
                    <span class="player-hub-modal-level-points" id="playerHubModalLevelPoints">All systems tuned</span>
                </div>
                <div
                    class="player-hub-modal-xp-track"
                    id="playerHubModalXpTrack"
                    role="progressbar"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    aria-valuenow="0"
                >
                    <div class="player-hub-modal-xp-fill" id="playerHubModalXpFill"></div>
                </div>
                <p class="player-hub-modal-xp-label" id="playerHubModalXpLabel">0 / 0 XP</p>
                <ul class="player-hub-modal-stat-list" role="list">
                    <li class="player-hub-modal-stat-row" role="listitem">
                        <span class="player-hub-modal-stat-name">Agility</span>
                        <span class="player-hub-modal-stat-value" id="playerHubModalStatAgilityValue">0</span>
                        <span class="player-hub-modal-stat-effect" id="playerHubModalStatAgilityEffect"></span>
                    </li>
                    <li class="player-hub-modal-stat-row" role="listitem">
                        <span class="player-hub-modal-stat-name">Strength</span>
                        <span class="player-hub-modal-stat-value" id="playerHubModalStatStrengthValue">0</span>
                        <span class="player-hub-modal-stat-effect" id="playerHubModalStatStrengthEffect"></span>
                    </li>
                    <li class="player-hub-modal-stat-row" role="listitem">
                        <span class="player-hub-modal-stat-name">Luck</span>
                        <span class="player-hub-modal-stat-value" id="playerHubModalStatLuckValue">0</span>
                        <span class="player-hub-modal-stat-effect" id="playerHubModalStatLuckEffect"></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div
        id="playerHubModal-presets"
        class="modal-shell player-hub-modal"
        data-player-hub-modal="presets"
        hidden
        aria-hidden="true"
    >
        <div
            class="modal-backdrop player-hub-modal-backdrop"
            data-player-hub-modal-dismiss="presets"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content player-hub-modal-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="playerHubModalPresetsTitle"
        >
            <header class="player-hub-modal-header">
                <h2 id="playerHubModalPresetsTitle">Preset Status</h2>
                <button
                    type="button"
                    class="player-hub-modal-close"
                    data-player-hub-modal-dismiss="presets"
                    aria-label="Close presets modal"
                >
                    ✕
                </button>
            </header>
            <div class="player-hub-modal-body">
                <p id="playerHubModalPresetSummary">
                    No custom presets saved yet. Build a favorite crew in the Presets tab to quick-launch before missions.
                </p>
            </div>
        </div>
    </div>
    <div
        id="playerHubModal-debrief"
        class="modal-shell player-hub-modal"
        data-player-hub-modal="debrief"
        hidden
        aria-hidden="true"
    >
        <div
            class="modal-backdrop player-hub-modal-backdrop"
            data-player-hub-modal-dismiss="debrief"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content player-hub-modal-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="playerHubModalDebriefTitle"
        >
            <header class="player-hub-modal-header">
                <h2 id="playerHubModalDebriefTitle">Run Snapshot</h2>
                <button
                    type="button"
                    class="player-hub-modal-close"
                    data-player-hub-modal-dismiss="debrief"
                    aria-label="Close debrief modal"
                >
                    ✕
                </button>
            </header>
            <div class="player-hub-modal-body">
                <p id="playerHubModalRunStatus" class="player-hub-modal-status" aria-live="polite"></p>
                <dl class="player-hub-modal-list">
                    <div class="player-hub-modal-row">
                        <dt>Flight time</dt>
                        <dd id="playerHubModalRunTime">—</dd>
                    </div>
                    <div class="player-hub-modal-row">
                        <dt>Score</dt>
                        <dd id="playerHubModalRunScore">—</dd>
                    </div>
                    <div class="player-hub-modal-row">
                        <dt>Best tail</dt>
                        <dd id="playerHubModalRunStreak">—</dd>
                    </div>
                    <div class="player-hub-modal-row">
                        <dt>Pickups</dt>
                        <dd id="playerHubModalRunNyan">—</dd>
                    </div>
                </dl>
                <p id="playerHubModalRunPlacement" class="player-hub-modal-footnote"></p>
                <p id="playerHubModalRunRuns" class="player-hub-modal-footnote"></p>
            </div>
        </div>
    </div>
    <div id="characterSelectModal" class="modal-shell character-select-modal" hidden aria-hidden="true">
        <div
            class="modal-backdrop character-select-backdrop"
            data-modal-dismiss="backdrop"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content character-select-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="characterSelectTitle"
        >
            <h2 id="characterSelectTitle">Select Your Pilot</h2>
            <div id="characterSelectSummary" aria-live="polite">
                <p class="character-summary-description" data-character-summary-description>
                    Each pilot tunes the starfighter differently. Hover or focus to reveal their loadout, then lock in
                    the approach that fits this run.
                </p>
                <ul class="character-summary-ongoing" data-character-summary-ongoing hidden></ul>
            </div>
            <div class="character-grid" role="list" data-character-grid></div>
            <div class="character-select-actions">
                <button id="characterSelectConfirm" type="button" disabled aria-disabled="true">
                    Select a Pilot
                </button>
                <button id="characterSelectCancel" type="button" class="secondary">Back</button>
            </div>
        </div>
    </div>
    <div id="weaponSelectModal" class="modal-shell weapon-select-modal" hidden aria-hidden="true">
        <div
            class="modal-backdrop character-select-backdrop"
            data-modal-dismiss="backdrop"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content character-select-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="weaponSelectTitle"
        >
            <h2 id="weaponSelectTitle">Select Weapon Loadout</h2>
            <div id="weaponSelectSummary" aria-live="polite">
                <p class="character-summary-description" data-weapon-summary-description>
                    Weapons calibrate your firing pattern. Preview each loadout, then deploy the arsenal that fits your flight
                    plan.
                </p>
            </div>
            <div class="character-grid" role="list" data-weapon-grid></div>
            <div class="character-select-actions">
                <button id="weaponSelectConfirm" type="button" disabled aria-disabled="true">Equip Weapon</button>
                <button id="weaponSelectCancel" type="button" class="secondary">Back</button>
            </div>
        </div>
    </div>
    <div id="loadoutEditorModal" class="modal-shell loadout-editor-modal" hidden aria-hidden="true">
        <div
            class="modal-backdrop loadout-editor-backdrop"
            data-loadout-editor-dismiss="backdrop"
            data-modal-dismiss="backdrop"
            aria-hidden="true"
        ></div>
        <div
            class="modal-content loadout-editor-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="loadoutEditorTitle"
        >
            <div class="loadout-editor-header">
                <h2 id="loadoutEditorTitle">Customize Loadout</h2>
                <button
                    id="loadoutEditorClose"
                    type="button"
                    class="loadout-editor-close"
                    aria-label="Close loadout editor"
                >
                    ✕
                </button>
            </div>
            <p id="loadoutEditorSubtitle" class="loadout-editor-subtitle">
                Browse pilots, weapons, suits, and streams to tailor this preset. Saving will store the selections to the chosen loadout slot.
            </p>
            <div class="loadout-editor-summary" aria-live="polite">
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Pilot</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="pilot"></span>
                </div>
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Weapon</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="weapon"></span>
                </div>
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Suit</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="skin"></span>
                </div>
                <div class="loadout-editor-summary-row">
                    <span class="loadout-editor-summary-label">Stream</span>
                    <span class="loadout-editor-summary-value" data-loadout-editor-summary="trail"></span>
                </div>
            </div>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorPilotsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorPilotsTitle">Select Pilot</h3>
                    <p class="loadout-editor-section-note">Highlights update as you switch between pilots.</p>
                </div>
                <div class="character-grid" role="list" data-loadout-editor-pilots></div>
            </section>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorWeaponsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorWeaponsTitle">Select Weapon</h3>
                    <p class="loadout-editor-section-note">Pair a weapon kit with your pilot to complete the preset.</p>
                </div>
                <div class="character-grid" role="list" data-loadout-editor-weapons></div>
            </section>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorSkinsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorSkinsTitle">Select Suit</h3>
                    <p class="loadout-editor-section-note">Swap hull coatings to update the loadout's look.</p>
                </div>
                <div class="loadout-editor-chip-grid" role="radiogroup" data-loadout-editor-skins></div>
            </section>
            <section class="loadout-editor-section" aria-labelledby="loadoutEditorTrailsTitle">
                <div class="loadout-editor-section-header">
                    <h3 id="loadoutEditorTrailsTitle">Select Stream</h3>
                    <p class="loadout-editor-section-note">Trail effects complete the preset's signature.</p>
                </div>
                <div class="loadout-editor-chip-grid" role="radiogroup" data-loadout-editor-trails></div>
            </section>
            <div class="loadout-editor-actions">
                <button id="loadoutEditorSave" type="button">Save Loadout</button>
                <button id="loadoutEditorCancel" type="button" class="secondary">Cancel</button>
            </div>
        </div>
    </div>
    <div
        id="settingsDrawer"
        role="dialog"
        aria-modal="true"
        aria-labelledby="settingsTitle"
        aria-hidden="true"
        hidden
    >
        <div class="settings-backdrop" data-settings-dismiss="backdrop"></div>
        <div class="settings-content" role="document">
            <button id="settingsCloseButton" type="button">Close</button>
            <h2 id="settingsTitle">Flight Settings</h2>
            <div class="settings-group" role="group" aria-labelledby="settingsTitle">
                <div class="settings-row">
                    <div class="setting-label">
                        Master Volume
                        <span>Overall output</span>
                    </div>
                    <input
                        id="masterVolumeSlider"
                        type="range"
                        min="0"
                        max="100"
                        value="85"
                        aria-valuemin="0"
                        aria-valuemax="100"
                        aria-valuenow="85"
                        aria-label="Master volume"
                    />
                    <output id="masterVolumeValue" for="masterVolumeSlider">85%</output>
                </div>
                <div class="settings-row">
                    <div class="setting-label">
                        Music Track
                        <span>Background score</span>
                    </div>
                    <label class="settings-toggle" for="musicToggle">
                        <input id="musicToggle" type="checkbox" checked />
                        <span id="musicToggleStatus" class="toggle-status">On</span>
                    </label>
                </div>
                <div class="settings-row">
                    <div class="setting-label">
                        Effects Audio
                        <span>Projectiles &amp; bursts</span>
                    </div>
                    <label class="settings-toggle" for="sfxToggle">
                        <input id="sfxToggle" type="checkbox" checked />
                        <span id="sfxToggleStatus" class="toggle-status">On</span>
                    </label>
                </div>
                <div class="settings-row">
                    <div class="setting-label">
                        Reduced Effects
                        <span>Dim particle storms</span>
                    </div>
                    <label class="settings-toggle" for="reducedEffectsToggle">
                        <input id="reducedEffectsToggle" type="checkbox" />
                        <span id="reducedEffectsStatus" class="toggle-status">Off</span>
                    </label>
                </div>
                <div class="settings-row difficulty-row">
                    <div class="setting-label" id="difficultyLabel">
                        Difficulty
                        <span>Flight intensity</span>
                    </div>
                    <div
                        id="difficultySelector"
                        class="difficulty-selector"
                        role="radiogroup"
                        aria-labelledby="difficultyLabel"
                    >
                        <label class="difficulty-option" data-difficulty-option="easy">
                            <input type="radio" name="difficultySetting" value="easy" />
                            <span class="difficulty-name">Easy</span>
                            <span class="difficulty-note">Gentle patrol</span>
                        </label>
                        <label class="difficulty-option" data-difficulty-option="medium">
                            <input type="radio" name="difficultySetting" value="medium" />
                            <span class="difficulty-name">Medium</span>
                            <span class="difficulty-note">Standard sortie</span>
                        </label>
                        <label class="difficulty-option" data-difficulty-option="hard">
                            <input type="radio" name="difficultySetting" value="hard" />
                            <span class="difficulty-name">Hard</span>
                            <span class="difficulty-note">Hostile skies</span>
                        </label>
                        <label class="difficulty-option" data-difficulty-option="hyper">
                            <input type="radio" name="difficultySetting" value="hyper" />
                            <span class="difficulty-name">Hyper</span>
                            <span class="difficulty-note">Maximum threat</span>
                        </label>
                    </div>
                </div>
                <p id="difficultyDescription" class="difficulty-description" aria-live="polite"></p>
            </div>
        </div>
    </div>
    <div
        id="pauseOverlay"
        role="dialog"
        aria-modal="true"
        aria-labelledby="pauseTitle"
        aria-hidden="true"
        hidden
    >
        <div class="pause-card" role="document">
            <h2 id="pauseTitle">Flight Paused</h2>
            <p id="pauseMessage">Press P or tap Resume to continue your run.</p>
            <div class="pause-actions">
                <button id="resumeButton" type="button" class="pause-primary">Resume</button>
                <button id="pauseSettingsButton" type="button" class="pause-secondary">Settings</button>
            </div>
            <p id="pauseHint" class="pause-hint" hidden></p>
        </div>
    </div>

    <div
        id="mascotCallout"
        class="mascot-callout"
        role="status"
        aria-live="polite"
        aria-hidden="true"
    >
        <img data-mascot-image alt="Mission control companion" loading="lazy" decoding="async" hidden />
        <div class="mascot-bubble" aria-hidden="true">
            <p class="mascot-text" data-mascot-text></p>
        </div>
    </div>

    <script src="scripts/app.js"></script>

</body>
</html>
